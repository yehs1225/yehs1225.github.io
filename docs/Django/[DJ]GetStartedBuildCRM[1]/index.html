<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yeh&#39;s blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yeh&#39;s blog Atom Feed"><title data-react-helmet="true">GetStarted - build CRM [1] | Yeh&#x27;s blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/Django/[DJ]GetStartedBuildCRM[1]"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="GetStarted - build CRM [1] | Yeh&#x27;s blog"><meta data-react-helmet="true" name="description" content="Link : YEHCRM (yehs1225.com)"><meta data-react-helmet="true" property="og:description" content="Link : YEHCRM (yehs1225.com)"><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/Django/[DJ]GetStartedBuildCRM[1]"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/Django/[DJ]GetStartedBuildCRM[1]" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/Django/[DJ]GetStartedBuildCRM[1]" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f2b17ad4.css">
<link rel="preload" href="/assets/js/runtime~main.2cfa4302.js" as="script">
<link rel="preload" href="/assets/js/main.1d210bd5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.png" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.png" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Notes</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yehs1225" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ğŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ğŸŒ</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Notes Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Algorithm/Algorithm[1]">Algorithm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/BasicKnowlege/CSS-RWDåˆ‡ç‰ˆç·´ç¿’">BasicKnowlege</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/DataStructures/Graph">DataStructures</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/Django/[DJ]GetStarted-documents">Django</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Django/[DJ]GetStarted-documents">GetStarted-documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Django/[DJ]GetStartedBuildCRM[1]">GetStarted - build CRM [1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Django/[DJ]GetStartedBuildCRM[2]">GetStarted - build CRM [1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Django/[DJ]PackagesAndTools">Packages And Tools</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Docker/èªè­˜Docker">Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/JavaScript/JavaScript-this">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Reactjs/React_ES6">Reactjs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Tools/Command-Line-and-Vim">Tools</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>GetStarted - build CRM <!-- -->[1]</h1><p>Link : <a href="https://django-crm.yehs1225.com/" target="_blank" rel="noopener noreferrer">YEHCRM (yehs1225.com)</a></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å°ˆæ¡ˆé–‹å§‹å‰">å°ˆæ¡ˆé–‹å§‹å‰<a class="hash-link" href="#å°ˆæ¡ˆé–‹å§‹å‰" title="Direct link to heading">â€‹</a></h4><ol><li><p>è¨­å®šç’°å¢ƒï¼Œåœ¨æ­¤ä½¿ç”¨çš„æ˜¯miniconda</p></li><li><p>å®‰è£django(3.1.4)</p><p><code>$pip freeze &gt; requirements.txt</code> å¯ä»¥å¹«æˆ‘å€‘è¼¸å‡ºæ–‡å­—æª”ä»¥æŸ¥çœ‹ç›®å‰çš„å¥—ä»¶dependencies</p></li><li><p>é–‹å§‹å°ˆæ¡ˆ&lt; djcrm &gt;</p><p> <code>$django-admin startproject djcrm .</code></p><p>djcrmå¾Œæœ‰ä¸€ç©ºæ ¼ï¼Œæœƒæ–°å¢ä¸€è³‡æ–™å¤¾åœ¨ç›®å‰å·¥ä½œçš„ä½ç½®ä¸‹ã€‚</p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="å»ºç«‹app">å»ºç«‹App<a class="hash-link" href="#å»ºç«‹app" title="Direct link to heading">â€‹</a></h2><ul><li>å»ºç«‹ä¸€å€‹å«åšleadsçš„appï¼ˆæœƒæ˜¯ä¸€è³‡æ–™å¤¾ï¼‰</li></ul><p>â€‹		<code>$python manage.py startapp leads</code></p><ul><li><p>åœ¨projectä¸­è¨»å†Šapp</p><p>åœ¨projectçš„settings.pyä¸­ï¼Œè¦åœ¨è¨»å†Šçš„appä¸­åŠ å…¥leads</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#djcrm/settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INSTALLED_APPS</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="å»ºç«‹è³‡æ–™åº«">å»ºç«‹è³‡æ–™åº«<a class="hash-link" href="#å»ºç«‹è³‡æ–™åº«" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="å»ºç«‹table">å»ºç«‹table<a class="hash-link" href="#å»ºç«‹table" title="Direct link to heading">â€‹</a></h3><ul><li><p>åœ¨model.pyä¸­å»ºç«‹table</p><p><a href="https://docs.djangoproject.com/en/4.0/ref/models/fields/" target="_blank" rel="noopener noreferrer">Model field reference</a></p><p>åŸºæœ¬èªæ³•å¦‚ä¸‹</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#ä½¿ç”¨modelså…§çš„class Modelä¾†å»ºç«‹table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token string" style="color:#e3116c">&#x27;table_name&#x27;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;field_name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">&#x27;field_type&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#field_type : CharFieldã€IntergerFieldã€BooleanField...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#condition : max_length=Xã€default=X...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>CharField</strong>ä¹Ÿå¯ä»¥è¨­å®šchoicesè®“äººé¸æ“‡</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SOURCE_CHOICES </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;YT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;YouTube&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Google&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Google&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;NewsLetter&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;NewsLetter&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#ç¬¬ä¸€å€‹å€¼æ˜¯è¦å­˜å…¥dbçš„å­—ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#ç¬¬äºŒå€‹æ˜¯è¦é¡¯ç¤ºåœ¨ç•«é¢ä¸Šçš„å­—ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">choices</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SOURCE_CHOICES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>ImageField</strong></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">profile_picture </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ImageField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#blank ä»£è¡¨ä½¿ç”¨è€…å¯è¼¸å…¥ç©ºç™½</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#nullä»£è¡¨dbå¯æ¥å—nullå€¼</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åŸ·è¡Œmakemigrations</p><p><code>$python manage.py makemigrations</code></p><p>migrationçš„è³‡æ–™å¤¾å…§æœƒå¤šå‡ºä¸€å€‹æª”æ¡ˆ000X_initial.pyï¼Œè£¡é¢æ˜¯é€™æ¬¡æ–°å¢åŠ çš„table</p></li><li><p>åŸ·è¡Œmigrate</p><p><code>$python manage.py migrate</code></p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="é€£çµå…©table">é€£çµå…©table<a class="hash-link" href="#é€£çµå…©table" title="Direct link to heading">â€‹</a></h3><ul><li><p>ç”¨ <code>ForeignKey()</code> ä¾†é€£æ¥</p><p>åœ¨è¦ç•¶ä½œforiegn keyçš„æ¬„ä½åŠ ä¸Š<code>ForeignKey()</code>ï¼Œ<code>ForeignKey()</code>æœ‰å…©å€‹argsï¼Œä¸€æ˜¯è¦é€£çµçš„tableï¼›äºŒæ˜¯<code>on_delete</code>ï¼Œä»£è¡¨è¦å¦‚ä½•è™•ç½®é€™ç­†è³‡æ–™ç•¶é€£çµåˆ°çš„è¡¨æ ¼å…§å®¹ä¸å­˜åœ¨æ™‚ï¼ˆåƒæ˜¯è¢«åˆªé™¤ä¹‹é¡çš„ï¼‰ï¼Œæœ‰å¹¾ç¨®é¸é …è¨­å®šï¼š</p><ol><li><code>models.CASCADE </code>: æ‰¾ä¸åˆ°foreignkeyçš„æŒ‡å‘å°±åˆªé™¤</li><li><code>models.SET_NULL </code>:è¨­å®šç‚ºnullï¼Œåƒ…åœ¨æˆ‘å€‘å…è¨±æ¬„ä½ç‚ºnullæ™‚ä½œç”¨ï¼ˆ<code>null=True</code>ï¼‰</li></ol><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">table1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">table2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fieldX </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;table1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">XXX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ä½¿ç”¨è€…table">ä½¿ç”¨è€…table<a class="hash-link" href="#ä½¿ç”¨è€…table" title="Direct link to heading">â€‹</a></h3><p><strong>å»ºè­°å»ºç«‹è‡ªå·±çš„user table</strong>ï¼Œå„˜ç®¡ä¹Ÿå¯ç”¨ <code>from django.contrib.quth import get_user_model</code>å¼•å…¥User</p><ul><li><p>å¼•å…¥djangoæä¾›çš„æ¨¡çµ„</p><p><code>from django.contrib.auth.models import AbstractUser</code>ï¼Œå¯æŒ‰å³éµgo to definitionæŸ¥çœ‹ã€‚</p></li><li><p>å› ç‚ºè£¡é¢å·²æœ‰ä½¿ç”¨è€…åç¨±ã€ä¿¡ç®±ç­‰è³‡è¨Šï¼Œå› æ­¤ç”¨passä¿ç•™åŸæœ¬çš„è¨­å®šå°±å¥½ã€‚å¦‚æœå¸Œæœ›åŠ ä¸Šå…¶ä»–æ¬„ä½å°±ç›´æ¥åŠ ä¸Šå°±è¡Œäº†ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AbstractUser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨å…¶ä»–tableè¨­å®šuseræ¬„ä½</p><p>å¸Œæœ›æ˜¯1å°1 : <code>OneToOneField</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">OneToOneField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨projectä¸­çš„settings.pyå‘ŠçŸ¥æ–°å¢äº†user table</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#djcrm/setting.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTH_USER_MODEL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;leads.User&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="æ“ä½œè³‡æ–™åº«">æ“ä½œè³‡æ–™åº«<a class="hash-link" href="#æ“ä½œè³‡æ–™åº«" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="model-manager">Model Manager<a class="hash-link" href="#model-manager" title="Direct link to heading">â€‹</a></h4><p>ä½¿ç”¨model manager : å–å¾—modelç”¨<code>model_name.objects</code></p><ul><li><p>æ–°å¢è³‡æ–™create</p><p><code>model_name.objects.create(field1=XX,...)</code></p></li><li><p>æŸ¥è©¢query</p><ul><li><p>query all</p><p><code>model_name.objects.all()</code></p></li><li><p>query with filter</p><p><code>model_name.filter(field1=&quot;XXX&quot;)</code></p></li><li><p><strong>å¦‚æœå·²ç¶“query allï¼Œå†æ ¹æ“šæ¢ä»¶å¼ç”¨filterï¼Œé‚£éº¼ç¬¬äºŒå€‹filterå…¶å¯¦ä¸æœƒçœŸçš„å»ç”¨åˆ°è³‡æ–™åº«ï¼Œå› æ­¤ä¸ç”¨æ“”å¿ƒæ•ˆèƒ½æœƒè®Šå·®</strong></p></li></ul></li></ul><ul><li><p>get æ‹¿å›ä¸€ç­†è³‡æ–™</p><p>get å’Œ queryä¸åŒï¼Œåªæœƒæœ‰ä¸€ç­†è³‡æ–™ï¼Œè€Œä¸”ä¸æ˜¯æŸ¥è©¢æ˜¯ç›´æ¥å–å›ï¼Œä½†æ–¹æ³•å’Œfilteré¡ä¼¼</p><p><code>model_name.get(field1=&quot;XXX&quot;)</code></p><ul><li><p>ç•¶è¦å–çš„è³‡æ–™æ˜¯åƒç…§å¦ä¸€tableæ™‚ï¼Œåœ¨æ¬„ä½å¾ŒåŠ ä¸Š<code>__</code>+<code>æ¬„ä½åç¨±</code>ï¼Œä¾‹å¦‚ä¸€table &lt; Agent &gt;çš„useræ¬„ä½æ˜¯åƒç…§table Userï¼Œè€Œæˆ‘å€‘è¦å–å‡ºç‰¹å®šemail(æ­¤æ¬„ä½å±¬æ–¼table User)ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">get_agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user__email</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;XXX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li><li><p>å¯ä»¥ç”¨python shellä¾†æ“ä½œæŒ‡ä»¤<code>$python manage.py shell</code></p><ul><li><p>æ–°å¢userä¾†æ¸¬è©¦<code>$python manage.py createsuperuser</code></p></li><li><p>æ¥è€…é–‹å•Ÿshellè¼¸å…¥ï¼Œå¯çœ‹åˆ°ä»¥æ–°å¢ä½¿ç”¨è€…</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> get_user_model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_user_model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#&lt;QuerySet [&lt;User:yehs1225&gt;]&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ç®¡ç†è€…é é¢è¨­å®š">ç®¡ç†è€…é é¢è¨­å®š<a class="hash-link" href="#ç®¡ç†è€…é é¢è¨­å®š" title="Direct link to heading">â€‹</a></h2><p>djangoæœ‰è‡ªå·±æä¾›å¥½ç”¨çš„ç®¡ç†è€…é é¢ï¼Œä¸€æ—¦å»ºç«‹å®Œmodelå°±å¯ä»¥åœ¨ç¶²é ä¸Šæ“ä½œè³‡æ–™åº«ã€‚ä»‹é¢ä¸Šä¹Ÿå¯åšèª¿æ•´ï¼Œä»¥æ–¹ä¾¿æ“ä½œã€‚</p><p>åœ¨appä¸­çš„admin.pyä¸­è¨­å®š</p><ul><li><p>æ–°å¢å¯è¢«ç®¡ç†è€…æ“ä½œçš„models</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/admin.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#å¼•å…¥æƒ³è¦åŠ å…¥çš„model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#åŠ åˆ°adminçš„pageä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Lead</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Agent</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="view">View<a class="hash-link" href="#view" title="Direct link to heading">â€‹</a></h2><p>åœ¨viewä¸­å¼•ç”¨è³‡æ–™åº«ï¼ˆmodelsï¼‰ï¼Œå®šç¾©å‡½æ•¸åˆ†åˆ¥ä»£è¡¨è¦å¾è³‡æ–™åº«ä¸­åŸ·è¡Œçš„å‹•ä½œï¼Œä¾‹å¦‚app_list ã€ app_detailç­‰ç­‰ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨<a class="hash-link" href="#åŸºæœ¬ä½¿ç”¨" title="Direct link to heading">â€‹</a></h4><ul><li><p>æ–°å¢home page</p><ul><li><p>åœ¨appçš„view.pyä¸­æ–°å¢ä¸€å‡½æ•¸</p><ul><li><p>ç”¨HttpResponseå›æ‡‰</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> HttpResponse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">home_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hello world&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>ç”¨.htmlæ¸²æŸ“ï¼ˆ<strong>templates</strong>ï¼‰</p><ul><li><p>æˆ‘å€‘éœ€è¦åœ¨appè£¡æ–°å¢è³‡æ–™å¤¾<code>template</code>ï¼Œå†è£¡é¢å†æ–°å¢ä¸€è³‡æ–™å¤¾ï¼ˆå‘½åè¦å’Œappåç¨±ä¸€æ¨£ï¼‰ï¼Œå°‡.htmlæª”æ¡ˆæ”¾åœ¨è£¡é¢ã€‚</p></li><li><p>åœ¨view.pyå‰‡ç”¨ä»¥ä¸‹æ–¹æ³•</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">home_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/home_page.html&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨renderä¸­å¯åŠ å…¥ç¬¬ä¸‰å€‹åƒæ•¸æŠŠæƒ³è¦åŠ å…¥é é¢çš„å…§å®¹å‚³é€åˆ°htmlä¸­</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">home_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cama&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;age&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/home_page.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è€Œåœ¨htmlä¸­å‰‡ä»¥<code>{{ NameOfKey }}</code>ä½¿ç”¨</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{name}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦‚æœæœ‰å¤šç­†è³‡æ–™å‚³å…¥æ™‚å¯ç”¨</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for item in list %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{item}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endfor %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨projectçš„setting.pyä¸­è¨­å®štemplate</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#project/setting.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TEMPLATES </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;DIRS&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">BASE_DIR</span><span class="token operator" style="color:#393A34">/</span><span class="token string" style="color:#e3116c">&quot;templates&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul></li><li><p>åœ¨projectçš„urls.pyä¸­å¼•å…¥ä¸¦åŠ å…¥è¦é€£çµçš„åœ°å€</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#project/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> leads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> home_page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">home_page</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="url-namespaces">URL Namespaces<a class="hash-link" href="#url-namespaces" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="è®“urlåœ¨å®ƒè©²åœ¨çš„appä¸­">è®“urlåœ¨å®ƒè©²åœ¨çš„appä¸­<a class="hash-link" href="#è®“urlåœ¨å®ƒè©²åœ¨çš„appä¸­" title="Direct link to heading">â€‹</a></h4><p>æˆ‘å€‘åœ¨projectä¸­çš„urls.pyè¦å‘Šè¨´é€™å€‹å°ˆæ¡ˆï¼Œæœ‰ç”¨åˆ°å“ªå€‹appå°±å»é‚£å€‹appä¸­æ‰¾ã€‚</p><ol><li><p>åœ¨appä¸­æ–°å¢urls.pyé€™å€‹æª”æ¡ˆ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> home_page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;all/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">home_page</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>å‘Šè¨´projectè¦å»appä¸­æ‰¾é€£çµ</p><p><code>import include</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#project/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;admin/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;app_name/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;app_name.urls&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">namespace</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app_name&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="è¦çœ‹æ•´å€‹listå’Œå®ƒçš„detail">è¦çœ‹æ•´å€‹listå’Œå®ƒçš„detail<a class="hash-link" href="#è¦çœ‹æ•´å€‹listå’Œå®ƒçš„detail" title="Direct link to heading">â€‹</a></h4><p>å‡è¨­æˆ‘å€‘ç¾åœ¨æœ‰å€‹ç¶²é åƒ…åˆ—å‡ºåˆ—è¡¨ï¼ˆlistï¼‰ï¼Œæ¯åˆ—å‘ˆç¾ä½¿ç”¨è€…å§“åï¼Œä¸¦ä¸”å¸Œæœ›èƒ½å¤ é€éç‰¹å®šçš„primary key numberä½œç”¨æ–¼urlsä»¥é€£çµåˆ°æŒ‡å®šä½¿ç”¨è€…çš„è©³ç´°è¨Šæ¯ï¼ˆdetailï¼‰ã€‚ä¸‹åœ–çš„idå°±æ˜¯æ­¤tableçš„primary keyï¼Œä¾‹å¦‚æˆ‘å€‘å¸Œæœ›è¼¸å…¥1æ™‚å°±å¸¶å¾€Joeçš„é é¢ã€‚</p><p><img src="/assets/images/lead_table-ec9b09387babd89bd5bc50b5e7aa26fc.jpg" width="352" height="104"></p><ol><li><p>é¦–å…ˆæˆ‘å€‘åœ¨view.pyä¸­æ–°å¢ä¸€å‡½æ•¸ï¼Œæ¥æ”¶<code>request</code>åŠ<code>pk</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_detail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reauest</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#é¡¯ç¤ºåœ¨terminal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;here is the detail view&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>æ¥è€…åœ¨urls.pyä¸­ä»¥<code>&lt;int:pk&gt;/</code>è®“è·¯å¾‘åœ¨æ¥æ”¶åˆ°pkæ™‚æœƒä½¿ç”¨detailé€™å€‹å‡½æ•¸</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_detail</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>å¸Œæœ›åœ¨åŸæœ¬htmlé é¢ä¸­æ–°å¢&lt; a &gt;tagï¼Œå¦‚æ­¤ä¸€ä¾†ç•¶æˆ‘å€‘é»æ“ŠæŸå€‹ä½¿ç”¨è€…å¾Œï¼Œå°±æœƒå°‡é é¢å¸¶å‘è©²ä½¿ç”¨è€…çš„è©³ç´°å…§å®¹ã€‚</p><p>å¯ä»¥ç›´æ¥åœ¨<code>href</code>ç”¨<code>key.pk</code></p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for lead in leads %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div class=&quot;lead&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;a href=&quot;/leads/{{lead.pk}}/&quot;&gt;{{lead.first_name}} {{lead.last_name}}&lt;/a&gt;. Age: {{lead.age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endfor %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>ç¢ºèªå¯é‹ä½œå¾Œå°±å¯ä»¥æ–°å»ºä¸€å€‹htmlé é¢for detailï¼Œä¸¦å°‡httpResponseæ”¹ç‚ºrender</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_detail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lead </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;lead&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/lead_detail.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="forms">Forms<a class="hash-link" href="#forms" title="Direct link to heading">â€‹</a></h2><p>å¸Œæœ›èƒ½å¤ æäº¤è¡¨å–®ä¾†æ–°å¢ä½¿ç”¨è€…ç­‰ï¼Œæ–°å¢ä½¿ç”¨è€…åœ¨adminä¸­å¯ä»¥è¾¦åˆ°ï¼Œä½†åœ¨æ­¤å¸Œæœ›å¯ä»¥åˆ©ç”¨ç¶²é æäº¤è¡¨å–®çš„æ–¹å¼ã€‚</p><ol><li><p>æ–°å¢create.htmlåœ¨templates/appå…§</p></li><li><p>æ–°å¢è·¯å¾‘åœ¨app/urls.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;create/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_detail</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_create</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#ç­‰æœƒè¦åœ¨view.pyä¸­æ–°å¢ä¸€å‡½æ•¸create</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨appåº•ä¸‹æ–°å»ºforms.py</p><p>å¯ä»¥æŠŠappä¸­æ‰€æœ‰è¦ç”¨åˆ°è¡¨å–®å®šç¾©åœ¨é€™è£¡ï¼Œå†åœ¨view.pyä¸­å¼•å…¥</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/forms.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> forms</span><span class="token comment" style="color:#999988;font-style:italic">#å¼•ç”¨formsæ¨¡çµ„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">#ä½¿ç”¨formsä¸­çš„Form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    first_name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">min_value</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨view.pyä¸­ä½¿ç”¨forms</p><p>ä¸»è¦çš„æ­¥é©Ÿå¦‚ä¸‹</p><ol><li>å¾forms.pyå¼•ç”¨éœ€è¦çš„form</li><li>åœ¨contextä¸­å…ˆå¡«å…¥form <code>form = LeadForm()</code></li><li>æª¢æŸ¥æ˜¯å¦ç‚ºPOST <code>if request == &quot;POST&quot;</code>ï¼Œæ˜¯å‰‡å¡«å…¥request<code>form = LeadForm(request.POST)</code></li><li><code>form.is_valid()</code>djangoæª¢æŸ¥æ˜¯å¦æœ‰æ•ˆ</li><li>ç”¨<code>form.cleaned_data</code>æ‹¿åˆ°&quot;ä¹¾æ·¨&quot;çš„è³‡æ–™ä¸¦å–å‡º</li><li>æœ‰ç‰¹å®šæ¬„ä½ç„¡æ³•å¾å–å¾—ï¼Œå¯è€ƒæ…®æ‹¿å‡ºè©²tableä¸­çš„ç¬¬ä¸€ç­†è³‡æ–™ä¾†ç”¨<code>table.objects.first()</code></li><li>å»ºç«‹è³‡æ–™<code>table.objects.create(...)</code></li><li><code>redirect</code>å°å›é é¢ï¼Œï¼ˆé ˆ<code>from django.shortcuts import redirect</code>ï¼‰</li></ol><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/veiws.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> redirect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models  </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">forms </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LeadForm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Receiving a post request&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">#check form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;the form is valid&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#got{&#x27;first_name&#x27;: &#x27;Sally&#x27;, &#x27;last_name&#x27;: &#x27;Somul&#x27;, &#x27;age&#x27;: 28}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;first_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;last_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;age&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">#because we don&#x27;t get agent from form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#got first row of Agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> first_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> last_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;lead created&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/leads&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;form&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">form</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/lead_create.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨htmlæª”ä¸­è¨­å®š</p><ul><li><p>åœ¨å¼•ç”¨è¦ç”¨form tagåŒ…èµ·ä¾†ï¼Œæ‰å¯ä»¥æäº¤</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//app/templates/app/create.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;form method=&quot;post&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% csrf_token %}{% comment %} é˜²æ­¢csrf {% endcomment %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{form.as_p}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button&gt;submit&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/form&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>å¼•ç”¨å‚³å…¥åƒæ•¸æ™‚ï¼Œå¯ä»¥è¨­å®šå‘ˆç¾æ¨£å¼ï¼Œä¾‹å¦‚ä¸‹é¢å³é‚Šä»¥&lt; p &gt; paraghå‘ˆç¾ã€‚</p></li></ul></li></ol><table><thead><tr><th>{{form}}</th><th>{{form.as_p}}</th></tr></thead><tbody><tr><td><img src="/assets/images/form1-c0a49ebcdc35134021a20e00aba8e66e.jpg" width="933" height="140"></td><td><img src="/assets/images/form1-c0a49ebcdc35134021a20e00aba8e66e.jpg" width="933" height="140"></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="model-form">Model Form<a class="hash-link" href="#model-form" title="Direct link to heading">â€‹</a></h2><p>é™¤äº†ä¸Šé¢è‡ªå·±åšä¸€å€‹formä¹‹å¤–ï¼Œå¯ä»¥ç”¨djangoæä¾›çš„ModelFormç›´æ¥æŠŠmodelè®Šæˆformã€‚</p><ol><li><p>åœ¨forms.pyè¨­å®šmodel form</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/forms.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Table1ModelForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelForm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">#field in the table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨view.pyä¸­æ›´æ”¹å‡½æ•¸å…§å®¹</p><p>å°‡ä¹‹å‰ç”¨åˆ°<code>Table1Form</code>æ”¹æˆ<code>Table1ModelForm</code>ï¼Œé€™æ™‚è¡¨å–®å°±æœƒæ”¶åˆ°åŸæœ¬tableæ‰€éœ€è¦çš„æ‰€æœ‰æ¬„ä½ï¼Œæ‰€ä»¥ä¹‹å‰å–ç”¨table2ä¸­çš„ç¬¬ä¸€ç­†è³‡æ–™çš„åšæ³•ä¹Ÿå¯æ”¹å›ä½¿ç”¨ä½¿ç”¨è€…è¼¸å…¥çš„è³‡æ–™å°±è¡Œã€‚</p><p>æ­¤å¤–ï¼Œå› ç‚ºæˆ‘å€‘å·²ç¶“åœ¨forms.pyä¸­å»ºç«‹ModelFormæŒ‡å®šè¦ä½¿ç”¨å“ªå€‹modelï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æŠŠç¢ºèª<code>form.is_valid():</code>ä¹‹å¾Œ</p><p>è¦å–å‡ºè³‡æ–™å†æ”¾å…¥tableä¸­çš„å‹•ä½œ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;first_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;last_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;age&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;agent&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> first_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> last_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç°¡åŒ–ç‚º</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><p>â€‹		å…§å¯å‚³åƒæ•¸ï¼Œä¾‹å¦‚<code>commit=False</code>ä»£è¡¨ä¸è¦é¦¬ä¸Šå‚³åˆ°modelï¼Œæˆ‘å€‘å¯ç”¨objectå„²å­˜ç›®å‰formå¾—åˆ°çš„ç‹€æ…‹ï¼Œåœ¨é€²è¡Œé¡å¤–æ“ä½œï¼Œæ‰€ä»¥å¯è®Šæˆ<code>obj=form.save(commit=False)</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="update-view-form">Update View ï¼ˆFormï¼‰<a class="hash-link" href="#update-view-form" title="Direct link to heading">â€‹</a></h2><ol><li><p>å®šç¾©æ–°å‡½æ•¸åœ¨app/view.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lead </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;first_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;last_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;age&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> first_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> last_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/leads&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;form&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;lead&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;app/lead_update.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è·Ÿcreateä¸€æ¨£ï¼Œä¹Ÿå¯æ”¹ç”¨è¼ƒç°¡æ½”çš„æ–¹å¼</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/view.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lead </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadModelForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instance</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">lead</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        form </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadModelForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">instance</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">lead</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/leads&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;form&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;lead&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/lead_update.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>æ–°å¢app/templates/update.html</p><p>åŸºæœ¬ä¸Šè·Ÿcreateä¸€æ¨£</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//app/templates/update.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;form method=&quot;post&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {% csrf_token %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {{form.as_p}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;button&gt;submit&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/form&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨app/urls.pyä¸­è¦æ–°å¢path</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/update/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_update</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="delete-viewform">Delete Viewï¼ˆformï¼‰<a class="hash-link" href="#delete-viewform" title="Direct link to heading">â€‹</a></h2><ol><li><p>å®šç¾©æ–°å‡½æ•¸åœ¨app/view.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lead</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/leads&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨app/urls.pyåŠ ä¸Špath</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/delete/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_delete</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨detail.htmlåŠ ä¸Šåˆªé™¤çš„link</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;/leads/{{ lead.pk }}/delete&quot;&gt;Delete&lt;/a&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="url-names">URL Names<a class="hash-link" href="#url-names" title="Direct link to heading">â€‹</a></h2><p>ç¾åœ¨çš„app/urls.pyä¸­çš„pathé•·é€™æ¨£</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_detail</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/update/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_update</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/delete/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_delete</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;create/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_create</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¹Ÿå°±æ˜¯èªªï¼Œæˆ‘å€‘åœ¨ç¶²å€åˆ—è¼¸å…¥å°æ‡‰çš„å­—ä¸²å°±èƒ½é€²åˆ°è©²è·¯å¾‘ä½ç½®ï¼Œç„¶è€Œï¼Œæœ‰æ™‚å€™æˆ‘å€‘æœƒå¸Œæœ›å¯ä»¥æ›´æ”¹é¡¯ç¤ºåœ¨ç¶²å€åˆ—çš„å­—ï¼Œæ–¼æ˜¯å°‡pathä¸­çš„ç¬¬ä¸€å€‹åƒæ•¸ä¾‹å¦‚<code>create</code>ç›´æ¥æ”¹æˆ<code>create-a-lead</code>ï¼Œé€™æ¨£ç¢ºå¯¦æ˜¯æ”¹å¥½äº†æ²’éŒ¯ï¼Œä½†æ˜¯ä½†æ˜¯!å¦‚æœåœ¨å…¶ä»–.htmlçš„&lt; a &gt; tagä¸­çš„<code>href</code>æœ‰æŒ‡å‘<code>/create</code>çš„è©±å°±å¿…é ˆè¦éƒ½æ›´æ”¹ï¼Œè¦åœ¨èŒ«èŒ«äººæµ·ä¸­å°‹æ‰¾å¯¦åœ¨ä¸å®¹æ˜“ã€‚é€™ä¹Ÿæ˜¯ç‚ºä½•æˆ‘å€‘æ‡‰è©²è¦é¿å…<strong>hardcode</strong>å‡ºç¾çš„åŸå› ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="pathçš„ç¬¬ä¸‰å€‹åƒæ•¸---name">pathçš„ç¬¬ä¸‰å€‹åƒæ•¸ - name<a class="hash-link" href="#pathçš„ç¬¬ä¸‰å€‹åƒæ•¸---name" title="Direct link to heading">â€‹</a></h4><p>è¦é¿å…hardcodeå‡ºç¾ï¼Œå°±æ˜¯åŠ ä¸Šç¬¬ä¸‰å€‹åƒæ•¸ï¼Œä¸¦ä¸”åœ¨å…¶ä»–éœ€è¦é€£çµåˆ°çš„åœ°æ–¹éƒ½æ˜¯ç”¨nameæ‰€è¨­å®šå¥½çš„å­—ä¸²ï¼Œå¦‚æ­¤ä¸€ä¾†ä»¥å¾Œè¦æ”¹é¡¯ç¤ºåœ¨ç¶²å€åˆ—çš„å­—ä¸²æ™‚å°±ä¸ç”¨æ“”å¿ƒ!</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-list&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_detail</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-detail&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/update/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_update</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-update&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;int:pk&gt;/delete/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_delete</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-delete&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;create/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">lead_create</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-create&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è€Œåœ¨å„htmlæª”æ¡ˆä¸­ï¼Œå‰‡å¯å°‡<code>href</code>æ”¹ç‚º<code>{% url &#x27;leads:XXXX&#x27; %}</code>çš„å½¢å¼ï¼Œç¬¬ä¸€å€‹<code>leads</code>æ˜¯å› ç‚ºæˆ‘å€‘åœ¨projectä¸­çš„urls.pyæœ‰é€™ä¸€è¡Œ<code>path(&#x27;leads/&#x27;,include(&#x27;leads.urls&#x27;,namespace=&quot;leads&quot;))</code>ï¼Œè€Œ<code>:</code>ä¹‹å¾Œæ¥çš„<code>XXX</code>å°±æ˜¯æˆ‘å€‘åœ¨<code>name</code>æ‰€è¨­å®šçš„ã€‚</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¸€èˆ¬çš„htmlä¸­linkçš„è®Šå‹•">ä¸€èˆ¬çš„htmlä¸­linkçš„è®Šå‹•<a class="hash-link" href="#ä¸€èˆ¬çš„htmlä¸­linkçš„è®Šå‹•" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//åŸå§‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;/leads/create&quot;&gt;Create a new Lead&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è®Šæˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;{% url &#x27;leads:lead-create&#x27; %}&quot;&gt;Create a new Lead&lt;/a&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="æœ‰åŒ…å«pkçš„">æœ‰åŒ…å«pkçš„<a class="hash-link" href="#æœ‰åŒ…å«pkçš„" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//åŸå§‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;/leads/{{lead.pk}}/&quot;&gt;{{lead.first_name}} {{lead.last_name}}&lt;/a&gt;. Age: {{lead.age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è®Šæˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;{% url &#x27;leads:lead-detail&#x27; lead.pk %}&quot;&gt;{{lead.first_name}} {{lead.last_name}}&lt;/a&gt;. Age: {{lead.age}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="extending-templates">Extending Templates<a class="hash-link" href="#extending-templates" title="Direct link to heading">â€‹</a></h2><p>å› ç‚ºæˆ‘å€‘å‰µé€ çš„createã€detailã€update....ç­‰ç­‰æ‰€æœ‰çš„htmléƒ½å¾ˆç›¸ä¼¼ï¼Œå› æ­¤æ‡‰è©²åšäº›å„ªåŒ–ï¼Œé¿å…é‡è¤‡åšåŒæ¨£çš„äº‹æƒ…ã€‚</p><ol><li><p>åœ¨æœ€å¤–å±¤ï¼ˆat the same layer of project and appsï¼‰æ–°å¢templatesè³‡æ–™å¤¾ï¼Œä¸¦æ–°å¢base.htmlï¼ˆå–å«baseæ˜¯æ…£ä¾‹ï¼‰</p><ul><li>æ”¾å…¥ç›¸åŒçš„æ±è¥¿ä¾‹å¦‚æ•´å€‹htmlå¤§ç¶±ã€titleã€sytleç­‰ç­‰</li><li>åœ¨<code>body</code>éƒ¨åˆ†ï¼Œå‰‡æ˜¯ç”¨<code>{% block content %}</code>ã€<code>{% endblock content %}</code>åŒ…ä½ï¼Œä»£è¡¨åˆ°æ™‚å€™è¦è¢«æ¸²æŸ“çš„æ±è¥¿æœƒæ”¾åœ¨é€™å€‹<code>block</code>ä¸­</li></ul><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css selector class" style="color:#00009f">.lead</span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">            </span><span class="token style language-css property" style="color:#36acaa">padding</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css number" style="color:#36acaa">10</span><span class="token style language-css unit">px</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">6</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">            </span><span class="token style language-css property" style="color:#36acaa">margin-top</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css number" style="color:#36acaa">10</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">            </span><span class="token style language-css property" style="color:#36acaa">background-color</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css hexcode color">#f6f6f6</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">            </span><span class="token style language-css property" style="color:#36acaa">width</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css number" style="color:#36acaa">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">YEHCRM</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% endblock content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><ol start="2"><li><p>æŠŠåŸå…ˆhtmlä¸­å¾ˆç›¸ä¼¼çš„åœ°æ–¹åˆªé™¤</p><p>ä»¥lead_listä¾†èªªå°±æ˜¯é™¤äº†é€™æ®µä»¥å¤–çš„ã€‚</p><ul><li>åœ¨é–‹é ­åŠ ä¸Š<code>{% extends &quot;base.html&quot; %}</code></li><li>ä¸¦ç”¨<code>{% block content %}</code>ã€<code>{% endblock content %}</code>åŒ…ä½è¦è¢«æ¸²æŸ“çš„ï¼ˆå°±æ˜¯ä¸‹é¢é€™å€å¡Šï¼‰</li></ul><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &quot;base.html&quot; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;a href=&quot;{% url &#x27;leads:lead-create&#x27; %}&quot;&gt;Create a new Lead&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;hr/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;This is all or our list&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% for lead in leads %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;div class=&quot;lead&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;a href=&quot;{% url &#x27;leads:lead-detail&#x27; lead.pk %}&quot;&gt;{{lead.first_name}} {{lead.last_name}}&lt;/a&gt;. Age: {{lead.age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% endfor %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h5 class="anchor anchorWithStickyNavbar_mojV" id="å¦‚æœæƒ³è¦å¼•ç”¨å…¶ä»–æª”æ¡ˆ">å¦‚æœæƒ³è¦å¼•ç”¨å…¶ä»–æª”æ¡ˆ<a class="hash-link" href="#å¦‚æœæƒ³è¦å¼•ç”¨å…¶ä»–æª”æ¡ˆ" title="Direct link to heading">â€‹</a></h5><p>ä¾‹å¦‚åœ¨å’Œbase.htmlåŒå±¤æ–°å¢ä¸€å€‹scripts.htmlï¼Œåœ¨baseä¸­ç”¨<code>{% include%}</code>å¼•ç”¨</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% include &quot;script.html&quot; %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="twailwindcss">TwailwindCss<a class="hash-link" href="#twailwindcss" title="Direct link to heading">â€‹</a></h2><p>Found useful component here ! <a href="https://github.com/aniftyco/awesome-tailwindcss" target="_blank" rel="noopener noreferrer">https://github.com/aniftyco/awesome-tailwindcss</a></p><p>ä¸‹é¢é€™è£¡æ˜¯ç”¨<a href="https://tailblocks.cc/" target="_blank" rel="noopener noreferrer">https://tailblocks.cc/</a></p><ol><li><p>åœ¨base.htmlå¼•ç”¨</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://cdn.tailwindcss.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>å»ºç«‹navbar</p><ol><li>åœ¨twailwindä¸­æ‰¾åˆ°é©ç”¨çš„æ¨¡æ¿å¾Œï¼Œåœ¨èˆ‡base.htmlåŒå±¤çš„åœ°æ–¹æ–°å»ºnavbar.htmlï¼Œä¸¦å°‡codeè²¼å…¥</li><li>åœ¨base.htmlå¼•å…¥ï¼ˆ<code>{% include &quot;navbar.html&quot; %}</code>ï¼‰</li></ol></li><li><p>å»ºç«‹ç™»å…¥é é¢</p><ol><li><p>å»ºç«‹landing.html</p></li><li><p>åœ¨app/views.pyä¸­å®šç¾©æ–°å‡½æ•¸</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">leading_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;landing.html&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨projectä¸­çš„urls.pyæ–°å¢è·¯å¾‘</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> leads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> landing_page</span><span class="token comment" style="color:#999988;font-style:italic">#å¼•å…¥å‰›å®šç¾©å¥½çš„å‡½æ•¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">landing_page</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;landing-page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol></li><li><p>ç‚ºå·²å­˜åœ¨çš„htmlåŠ ä¸Štwailwind css</p><p>ç›´æ¥åŠ åœ¨<code>{% block content %}</code>å…§</p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-based-view">Class Based View<a class="hash-link" href="#class-based-view" title="Direct link to heading">â€‹</a></h2><p>ä¹‹å‰éƒ½æ˜¯ç”¨function based viewï¼Œä¾†handle requestï¼Œè€Œç”¨classå¯ä»¥æ¸›å°‘å¾ˆå¤šcodeï¼ŒDjangoå°±æä¾›äº†<code>django.views.generic</code>é€™å€‹æ¨¡çµ„ï¼Œè£¡é¢å¯ä»¥å¼•ç”¨å„ç¨®viewä¾†ä½¿ç”¨ï¼Œä¹‹å¾Œå†åˆ°urls.pyä½œç›¸å°æ‡‰çš„ä¿®æ­£ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="crud">CRUD<a class="hash-link" href="#crud" title="Direct link to heading">â€‹</a></h4><p>Create, Retrieve, Update and Delete + List.</p><p>åŸºæœ¬ä¸Šæ‰€æœ‰çš„ç¶²é éƒ½å¯ç”±é€™äº›å‹•ä½œå®Œæˆï¼Œå› æ­¤Djangoå¾ˆè²¼å¿ƒçš„æä¾›äº†é€™äº›Viewè®“æˆ‘å€‘ä½¿ç”¨ï¼Œæ¯å€‹viewä¸­æœ€åŸºç¤çš„è¨­å®šå°±æ˜¯<code>template_name</code>ã€‚ä»¥ä¸‹å°å„ç¨®æƒ…æ³åˆ†åˆ¥é€²è¡Œä¿®æ”¹ï¼š</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ä¸€èˆ¬é é¢---templateview">ä¸€èˆ¬é é¢ - <code>TemplateView</code><a class="hash-link" href="#ä¸€èˆ¬é é¢---templateview" title="Direct link to heading">â€‹</a></h4><p>e.g.Landing_page</p><p><code>template_name</code></p><ol><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹viewspyçš„func--class-based">ä¿®æ”¹views.pyçš„func =&gt; class based<a class="hash-link" href="#ä¿®æ”¹viewspyçš„func--class-based" title="Direct link to heading">â€‹</a></h5><p>åŸå…ˆçš„function</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">landing_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;landing.html&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¼•ç”¨TemplateView</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TemplateView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LandingPageView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TemplateView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;landing.html&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹åœ¨projecturlspyä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘">ä¿®æ”¹åœ¨project/urls.pyä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘<a class="hash-link" href="#ä¿®æ”¹åœ¨projecturlspyä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘" title="Direct link to heading">â€‹</a></h5><p>å¼•å…¥ClassBasedViewå¾Œï¼Œä»¥<code>ClassBasedView.as_view()</code>çš„æ–¹å¼å‘¼å«</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> leads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> landing_page</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LandingPageView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LandingPageView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;landing-page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="listé é¢---listview">Listé é¢ - <code>ListView</code><a class="hash-link" href="#listé é¢---listview" title="Direct link to heading">â€‹</a></h4><p>e.g.lead_list</p><p><code>template_name</code></p><p><code>queryset</code>:æ”¾å…¥è¦æ“ä½œè³‡æ–™åº«çš„éƒ¨åˆ†ã€‚</p><p><code>context_object_name</code>optional but recommendï¼ˆèªªæ˜åœ¨ç¬¬ä¸‰é»htmlï¼‰</p><ol><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹viewspyçš„func--class-based-1">ä¿®æ”¹views.pyçš„func =&gt; class based<a class="hash-link" href="#ä¿®æ”¹viewspyçš„func--class-based-1" title="Direct link to heading">â€‹</a></h5><p>åŸå…ˆçš„function</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    leads </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">leads</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/lead_list.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¼•ç”¨ListView</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadVistView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;leads/lead_list.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹åœ¨appurlsä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘">ä¿®æ”¹åœ¨app/urlsä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘<a class="hash-link" href="#ä¿®æ”¹åœ¨appurlsä¸­å¼•ç”¨çš„æ¨¡çµ„åŠè·¯å¾‘" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LeadVistView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">   path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LeadVistView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;lead-list&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ­£htmlä¸­çš„åƒæ•¸">ä¿®æ­£htmlä¸­çš„åƒæ•¸<a class="hash-link" href="#ä¿®æ­£htmlä¸­çš„åƒæ•¸" title="Direct link to heading">â€‹</a></h5><ul><li>å› ç‚ºåŸå…ˆçš„functionæ˜¯è‡ªè¨‚contextå…§å®¹å†å‚³å»htmlä¸­ï¼Œåƒé€™æ¨£ï¼š</li></ul></li></ol><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lead_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">leads</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;leads/lead_list.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>   å› æ­¤ï¼Œæˆ‘å€‘åœ¨htmlä¸­æ˜¯ä»¥<code>leads</code>ä¾†å–ç”¨å…§å®¹ï¼Œè€Œä½¿ç”¨ListViewæ™‚ï¼Œé è¨­çš„åç¨±æ˜¯<code>object_list</code>ï¼Œæ‰€ä»¥æŠŠé€™éƒ¨åˆ†æ”¹æ‰å°±è¡Œï¼š</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for lead in leads %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for lead in object_list %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><p>â€‹	æˆ–è€…è¨­å®š<code>context_object_name</code>ï¼Œå°±ä¸ç”¨æ›´æ”¹htmlæª”æ¡ˆ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">XXX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context_object_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;leads&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="detailé é¢---detailview">Detailé é¢ - <code>DetailView</code><a class="hash-link" href="#detailé é¢---detailview" title="Direct link to heading">â€‹</a></h4><p>e.g.lead_detail</p><p><code>template_name</code></p><p><code>queryset</code></p><p>å¤§è‡´ä¸Šèˆ‡Listç›¸åŒï¼Œåƒ…æ³¨æ„åœ¨<code>queryset</code>ä¹Ÿæ˜¯ä½¿ç”¨ä¸€æ¨£çš„<code>Lead.objects.all()</code>è€Œä¸éœ€è¦åƒåŸæœ¬functionä¸­è¨­å®šç”¨<code>.get(id=pk)</code></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="createé é¢---createview">Createé é¢ - <code>CreateView</code><a class="hash-link" href="#createé é¢---createview" title="Direct link to heading">â€‹</a></h4><p>e.g.lead_create</p><p><code>template_name</code></p><p><code>form_class</code>:é€£çµè¡¨å–®çš„éƒ¨åˆ†ã€‚</p><p><code>reverse</code>:é‡æ–°å°å›æŸé é¢ã€‚</p><ol><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹viewspyçš„func--class-based-2">ä¿®æ”¹views.pyçš„func =&gt; class based<a class="hash-link" href="#ä¿®æ”¹viewspyçš„func--class-based-2" title="Direct link to heading">â€‹</a></h5><ul><li><p>form_class</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Class </span><span class="token class-name">XXX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CreateView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form_class </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadModelForm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>import reverse from django.shortcuts</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> reverse</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>reverse()</code>å…§æ˜¯<code>namespace</code>(leads) + <code>path (name)</code>(lead-list)</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_success_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;leads:lead-list&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¿®æ”¹urlspyçš„path">ä¿®æ”¹urls.pyçš„path<a class="hash-link" href="#ä¿®æ”¹urlspyçš„path" title="Direct link to heading">â€‹</a></h5></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="updateé é¢---updateview">Updateé é¢ - <code>UpdateView</code><a class="hash-link" href="#updateé é¢---updateview" title="Direct link to heading">â€‹</a></h4><p><code>template_name</code></p><p><code>form_class</code></p><p><code>queryset</code></p><p>éœ€è¦æ“ä½œè¡¨å–®å’Œè³‡æ–™åº«ï¼Œæ‰€ä»¥ç”¨åˆ°</p><p><code>form_class</code>åŠ<code>queryset</code>ï¼Œ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadUpdateView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UpdateView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;leads/lead_update.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form_class </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeadModelForm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_success_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;leads:lead-list&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="deleteé é¢---deleteview">Deleteé é¢ - <code>DeleteView</code><a class="hash-link" href="#deleteé é¢---deleteview" title="Direct link to heading">â€‹</a></h4><p><code>template_name</code></p><p><code>queryset</code></p><ol><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="viewspyçš„class">views.pyçš„class<a class="hash-link" href="#viewspyçš„class" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadDeleteView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DeleteView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;leads/lead_delete.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_success_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;leads:lead-list&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><h5 class="anchor anchorWithStickyNavbar_mojV" id="templatesapphtml">templates/app/.html<a class="hash-link" href="#templatesapphtml" title="Direct link to heading">â€‹</a></h5><p>å› ç‚ºå¿…é ˆè¦æœ‰<code>template_name</code>ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æ–°å»ºä¸€å€‹lead_delete.htmlã€‚	</p><p>é€™è£¡æˆ‘å€‘åŒæ¨£ä¿ç•™form tagï¼Œå› ç‚ºåœ¨DeleteViewå°±æ˜¯é è¨­è¦æœ‰æäº¤çš„åŠŸèƒ½ä¾†ç¢ºå®šè¦åˆªé™¤ã€‚</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% comment %} app/templates/app/.html {% endcomment %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &quot;base.html&quot; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;a href=&quot;{% url &#x27;leads:lead-list&#x27; %}&quot;&gt;Go back to leads&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;hr/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;Are you sure you want to delete this lead&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;form method=&quot;post&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {% csrf_token %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {{form.as_p}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;button&gt;submit&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/form&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="set-static-files">Set Static files<a class="hash-link" href="#set-static-files" title="Direct link to heading">â€‹</a></h2><ol><li><p>åœ¨æœ€å¤–å±¤å‰µå»ºè³‡æ–™å¤¾staticä¸¦å‰µå»ºè³‡æ–™å¤¾<!-- -->&lt;<!-- -->js<!-- -->&gt;<!-- -->ã€<!-- -->&lt;<!-- -->css<!-- -->&gt;<!-- -->ã€<!-- -->&lt;<!-- -->images<!-- -->&gt;<!-- -->ä¾†å­˜æ”¾ä»¥å¾Œè¦ç”¨çš„æª”æ¡ˆ</p></li><li><p>åœ¨projectä¸­çš„settings.pyå¯ä»¥çœ‹åˆ°æœ¬ä¾†å°±æœ‰<code>STATIC_URL = &#x27;/static/&#x27;</code>ï¼Œæˆ‘å€‘å¦å¤–å†è¨­å®šä¸‹é¢å…©å€‹è®Šæ•¸</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">STATICFILES_DIRS</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BASE_DIR</span><span class="token operator" style="color:#393A34">/</span><span class="token string" style="color:#e3116c">&quot;static&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#åƒåœ¨templateçš„è¨­å®š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STATIC_ROOT</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;static_root&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨project/urls.pyè¨­å®š</p><ul><li><p><code>from django.conf import settings</code>è®“æˆ‘å€‘å¯ä»¥ä½¿ç”¨ç¬¬äºŒé»settingä¸­çš„<code>STATIC_URL</code>å’Œ<code>STATIC_ROOT</code></p></li><li><p><code>from django.conf.urls.static import static</code>è®“æˆ‘å€‘å¯ä»¥è¨­å®š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">static</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;settins.STATIC_URL&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">document_root</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STATIC_ROOT</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ‘å€‘å°‡é€™ä¸€æ®µåŠ åœ¨åº•ä¸‹ï¼Œè€Œä¸æ˜¯ç›´æ¥æ”¾åœ¨URLPatternä¸­ï¼Œå› ç‚ºç•¶éƒ¨ç½²æ™‚ï¼Œserverå¯èƒ½æœƒå°‡STATICç§»è‡³ä¸åŒä½ç½®ï¼Œä¸åƒç¾åœ¨åœ¨æœ¬åœ°é–‹ç™¼çš„ç‹€æ…‹ï¼Œæ‰€ä»¥ä¸ç¸½æ˜¯åŸ·è¡Œä»–ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    urlpatterns </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> static</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;settins.STATIC_URL&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">document_root</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STATIC_ROOT</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li><li><p>åœ¨base.htmlä¸­ä½¿ç”¨</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% load static %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;link href=&quot;{% static &#x27;css/styles.css&#x27; %}&quot; rel=&quot;stylesheet&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script src=&quot;{% static &#x27;js/main.js&#x27; %}&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt; </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="send-emails">Send Emails<a class="hash-link" href="#send-emails" title="Direct link to heading">â€‹</a></h2><p>ç¾åœ¨æˆ‘å€‘æƒ³è¦åœ¨ã€Œæ–°å¢ç©Leadæ™‚ï¼Œå¯„ç™¼emailã€ã€‚å› æ­¤æˆ‘å€‘åœ¨app/views.pyå®šç¾©class  LeadCreateViewå®šç¾©æ–°å‡½æ•¸ã€‚</p><p>è¨»ï¼šæˆ‘å€‘å¯ä»¥é¸å–å¼•ç”¨çš„æ¨¡çµ„æŒ‰å³éµ:go to defination å»æŸ¥çœ‹åŸå§‹çš„å®šç¾©ã€‚</p><ol><li><p>é‡æ–°å®šç¾©<code>form_valid</code>ä¹‹å¾Œè¦åŸ·è¡Œçš„äº‹</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadCreateView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CreateView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LeadCreateView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>å¼•å…¥<code>send_email</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#app/views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mail </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> send_mail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#TO SEND EMAIL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        send_mail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            subject</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;A lead has been created&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Go to the site to see the new lead&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from_email</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;test@test.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            recipient_list</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;test2@test.com&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LeadCreateView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åœ¨projectä¸­settings.pyè¨­å®š</p><p>å‘Šè¨´djangoå¦‚ä½• send email</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#project/settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EMAIL_BACKEND </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;django.core.mail.backends.console.EmailBackend&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#in real , we use smtp instead of console</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><p>æœ€å¾Œå°±å¯å¾—åˆ°</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: text/plain</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">charset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;utf-8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIME-Version: </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Transfer-Encoding: 7bit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subject: A lead has been created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">From: test@test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To: test2@test.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: Fri, </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> Feb </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain"> 06:24:40 -0000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message-ID: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">164577028083.2132</span><span class="token plain">.15977409263506702204@yehs1225-VirtualBox</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Go to the site to see the new lead</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">â€‹</a></h2><p>*ä½¿ç”¨minicondaä¾†å»ºç«‹ç’°å¢ƒã€‚</p><p>å¯ä»¥åœ¨minconda3/python3.9/site-packages/django/contrib/auth/auth/views.pyä¸­æŸ¥çœ‹å®šç¾©å¥½çš„ç›¸é—œæ¨¡çµ„ï¼Œè£¡é¢æœ‰Loginã€Logoutã€Passwordç›¸é—œviewã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="loginlogout">Login/Logout<a class="hash-link" href="#loginlogout" title="Direct link to heading">â€‹</a></h4><p>å…¶ä¸­æˆ‘å€‘è¦ä½¿ç”¨çš„æ˜¯<code>class LoginView()</code>ã€<code>class LogoutView()</code>ï¼Œåœ¨<code>template_name </code>ä¸­æœƒç”¨åˆ°&#x27;registration/login.html&#x27;ï¼Œæ‰€ä»¥æˆ‘å€‘å›åˆ°æœ€å¤–å±¤çš„templatesä¸­æ–°å»ºè³‡æ–™å¤¾å’Œæª”æ¡ˆã€‚</p><ol><li><p>templates/registration/login.html</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">#templates/registration/login.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;form method=&quot;POST&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% csrf_token %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{ form.as_p }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/form&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>project/urls.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LoginView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LoginView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;login&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>project/settings.py</p><p>å› ç‚ºé è¨­å®Œç™»å…¥å¾Œæœƒå°å›ç‰¹å®šçš„urlï¼Œä½†æˆ‘å€‘æ²’æœ‰è¦æ–°å¢ä¸€å€‹æª”æ¡ˆï¼Œåªæ˜¯å¸Œæœ›å›åˆ°æœ¬ä¾†appçš„é¦–é ï¼Œæ‰€ä»¥å¯åœ¨settingsä¸­è¨­å®š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">LOGIN_REDIRECT_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/leads&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>è¨­å®šnavbarçš„ç™»å…¥ç‹€æ…‹é¡¯ç¤º</p><ul><li><code>{% if request.user.is_authenticated %} </code>ã€<code>{% else %}</code>å’Œ<code>{% endif %}</code></li><li>&lt;<!-- -->a <!-- -->&gt;<!-- --> Loginçš„hrefä¹Ÿè¦è¨˜å¾—æ›´æ”¹</li></ul><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% if not request.user.is_authenticated %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;a class=&quot;mr-5 hover:text-gray-900&quot;&gt;Sign up&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endif %}    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% if request.user.is_authenticated %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   You are logged in: {{request.user.username}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% else %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;a href=&quot;{% url &#x27;login&#x27; %}&quot; class=&quot;inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;svg fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; class=&quot;w-4 h-4 ml-1&quot; viewBox=&quot;0 0 24 24&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;path d=&quot;M5 12h14M12 5l7 7-7 7&quot;&gt;&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/svg&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endif %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="sign-up">Sign up<a class="hash-link" href="#sign-up" title="Direct link to heading">â€‹</a></h4><ol><li><p>app/forms.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> get_user_model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">forms </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UserCreationForm</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">UsernameField</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CustomUserCreationForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserCreationForm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field_classes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;username&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">UsernameField</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>class Meta</code>è®“ä½ å¯åœ¨modelå…§ç”¨metadataï¼ˆæŒ‡çš„æ˜¯ä»»ä½•émodelä¸­ç¾å­˜çš„æ¬„ä½ï¼‰</p></li><li><p>app/views.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">forms </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">CustomUserCreationForm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SignupView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CreateView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;registration/signup.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form_class </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserCreationForm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_success_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;login&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>template/registration/signup.html</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;form method=&quot;POST&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% csrf_token %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{ form.as_p }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button type=&quot;submit&quot;&gt;SignUp&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/form&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>app/urls.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;signup/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">SignupView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;signup&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="test">Test<a class="hash-link" href="#test" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="1-just-in-apptestpy">1. Just In app/test.py<a class="hash-link" href="#1-just-in-apptestpy" title="Direct link to heading">â€‹</a></h4><p>æˆ‘å€‘å¯ä»¥åœ¨appè³‡æ–™å¤¾ä¸­æ‰¾åˆ°test.pyä¸¦åœ¨å…¶ä¸­æ’°å¯«Class å’Œ function ï¼Œä»¥<code>$python manage.py test</code>ä¾†æ¸¬è©¦ã€‚</p><ul><li>class LandingPageTest æ¸¬è©¦views.pyä¸­çš„Landing page</li><li>functionä»¥<code>test_</code>ä½œç‚ºé–‹é ­ï¼Œè¢«è¦–ç‚ºä¸€å€‹test</li><li><code>(self)</code>æä¾›è¨±å¤šfunctionå¯ç”¨ä¾†æ¸¬è©¦</li><li><code>self.client</code>å°±åƒ<code>request</code>ä¸€æ¨£å¯ä»¥ç”¨<code>.get</code>ã€<code>.post</code>ç­‰ç­‰http è«‹æ±‚æ–¹æ³•</li><li><code>reverse</code>ç”¨ä¾†é€£åˆ°url</li><li><code>self.assertEqual</code>æª¢æŸ¥å…©ç‰©ä»¶æ˜¯å¦ç›¸ç­‰</li><li><code>self.assertTemplateUsed</code>æª¢æŸ¥responseæ˜¯å¦æ˜¯æƒ³è¦çš„æª”æ¡ˆ</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TestCase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> reverse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LandingPageTest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TestCase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;landing-page&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># TO test status code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assertEqual</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># TO test template code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assertTemplateUsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;landing.html&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="2-make-a-folder--test">2. Make a folder : test<a class="hash-link" href="#2-make-a-folder--test" title="Direct link to heading">â€‹</a></h4><p>å› ç‚ºä¹‹å¾Œå°ˆæ¡ˆå¯èƒ½æœƒè®Šå¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€å€‹å¥½çš„åšæ³•å¯ä»¥åœ¨appåº•ä¸‹æ–°å¢è³‡æ–™å¤¾testsï¼Œè£¡é¢å…ˆæ–°å¢ä¸€å€‹<code>__init__.py</code>ï¼Œåœ¨åƒä¸Šé¢ä¸€æ¨£å»ºç«‹æƒ³è¦çš„<code>test.py</code>ï¼Œå‘½åæ–¹å¼å¯ä»¥æ˜¯<code>test_views.py</code>ã€<code>test_forms.py</code>ç­‰ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="auth-permissions">Auth Permissions<a class="hash-link" href="#auth-permissions" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="é€™ä¸æ˜¯èª°éƒ½å¯ä»¥çœ‹çš„">é€™ä¸æ˜¯èª°éƒ½å¯ä»¥çœ‹çš„ğŸ’¢<a class="hash-link" href="#é€™ä¸æ˜¯èª°éƒ½å¯ä»¥çœ‹çš„" title="Direct link to heading">â€‹</a></h4><p>æœ‰äº›viewsæˆ‘å€‘å¸Œæœ›åœ¨æœ‰æ¬Šé™çš„äººç™»éŒ„å¾Œæ‰å¯ä»¥çœ‹åˆ°ã€‚æˆ‘å€‘éœ€è¦</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mixins </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LoginRequiredMixin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸¦ä¸”å°‡<code>LoginRequiredMixin</code>æ”¾åœ¨classï¼ˆï¼‰ç¬¬ä¸€å€‹ä½ç½®åƒé€™æ¨£</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadVistView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ¥è€…åœ¨ç€è¦½å™¨çš„ç¶²å€åˆ—å¯çœ‹åˆ°</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost:8000/accounts/login/?next=/leads/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æœƒå…ˆå°åˆ°ç™»å…¥é é¢ï¼Œåœ¨redirectåˆ°åŸæœ¬è¦å»çš„é é¢ï¼Œå…¶ä¸­ç™»å…¥é é¢é è¨­ç‚º<code>accounts/login</code>ï¼Œä½†æˆ‘å€‘çš„appä¸­æ˜¯è¨­å®š<code>login</code>ï¼Œæ‰€ä»¥å»projectä¸­settings.pyè¨­å®š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">LOGIN_URL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/login&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="ä½ çš„å°ˆå±¬å…§å®¹">ä½ çš„å°ˆå±¬å…§å®¹<a class="hash-link" href="#ä½ çš„å°ˆå±¬å…§å®¹" title="Direct link to heading">â€‹</a></h4><p>æˆ‘å€‘ç¾åœ¨æœ‰3å€‹models:User, Lead, Agentï¼Œå¸Œæœ›åšåˆ°çš„åŠŸèƒ½æ˜¯ä½¿ç”¨è€…ç™»å…¥å¾Œï¼Œå±¬æ–¼è©²Userçš„Leadå’ŒAgentå¯ä»¥å‘ˆç¾åŠç®¡ç†ï¼Œå› æ­¤æˆ‘å€‘æ–°å¢ä¸€å€‹modelå«åšUserProfileï¼Œä¸¦ä¸”ä¹Ÿä¿®æ”¹Agentã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserProfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">OneToOneField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;User&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">OneToOneField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;User&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserProfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">email    </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ–°å¢å®Œæ–°modelè¦è¨˜å¾—å»admin.pyè¨»å†Š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">UserProfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserProfile</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="signal">Signal<a class="hash-link" href="#signal" title="Direct link to heading">â€‹</a></h4><p>å¯ä»¥åšè¨­å®šï¼Œè®“ç™¼ç”Ÿç‰¹å®šäº‹æƒ…æ™‚djangoæœƒç™¼é€signalã€‚</p><p>ç›®å‰æƒ³åšçš„æ˜¯ï¼šç•¶æœ‰æ–°userè¢«å»ºç«‹æ™‚ï¼Œå°±æ–°å»ºä¸€ç­†UserProfileè³‡æ–™ã€‚</p><ol><li>å¼•å…¥æ¨¡çµ„ï¼š</li></ol><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signals </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> post_save</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>post_save</code> :ç•¶POSTè«‹æ±‚è¢«æˆåŠŸå„²å­˜åœ¨modelæ™‚ï¼ˆå¦å¤–ä¹Ÿæœ‰<code>pre_save</code>ï¼Œä½œç”¨æ–¼å°šæœªè¢«å­˜åˆ°è³‡æ–™åº«æ™‚ï¼‰</p><ol start="2"><li>å®šç¾©functionï¼š</li></ol><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># a signal once the post_save is set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">post_user_created_signal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> created</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> created</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UserProfile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post_save</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">post_user_created_signal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">sender</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>post_save.connect(arg1,arg2)</code>ï¼š</p><ul><li>arg1 : è¦å‘¼å«çš„function</li><li>arg2 : è¦é€£æ¥çš„model</li></ul><p><code>def post_user_created_signal(sender,instance, created, **kwargs)</code> :</p><ul><li>sender : signalé€£æ¥çš„model</li><li>instance : ç™¼å‡ºè¨Šè™Ÿçš„ç‰©ä»¶ï¼Œä¾‹å¦‚é€™è£¡æ˜¯æ›´æ”¹ä½¿ç”¨è€…test1çš„è³‡æ–™ï¼Œprintå‡ºä¾†å°±æ˜¯test1</li><li>created : ç”¨ä¾†åµæ¸¬é€™æ¬¡çš„signalæ˜¯å¦æ˜¯å…¨æ–°çš„postæˆ–åªæ˜¯ä¿®æ”¹</li><li>**kwargs : æ¥æ”¶å‰©é¤˜æ‰€æœ‰arguments</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="user-types">User Types<a class="hash-link" href="#user-types" title="Direct link to heading">â€‹</a></h4><p>å°‡useråˆ†ç‚ºå…©é¡ï¼šçµ„ç¹”ç®¡ç†è€…ï¼ˆorganizorï¼‰åŠå–®ä¸€æ©Ÿæ§‹ï¼ˆagentï¼‰ã€‚æ–¼æ˜¯å›åˆ°åŸå…ˆå»ºç«‹çš„model Userå¢åŠ æ–°æ¬„ä½<code>is_organizer</code>åŠ<code>is_agent</code>ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AbstractUser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is_organizor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BooleanField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is_agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BooleanField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¹‹å¾Œæˆ‘å€‘å¯ä»¥åœ¨navbarä¸­éæ¿¾æ˜¯å¦ç‚ºorganizor</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% if request.user.is_organizor %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{% url </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">agents:agent-list</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c"> %}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">mr-5 hover:text-gray-900</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Agents</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endif %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç„¶è€Œé€™æ¨£åªæ˜¯ä¸é¡¯ç¤ºåœ¨æ¸²æŸ“çš„ç•«é¢ä¸Šï¼Œå¯¦éš›ä¸Šä»å¯é€éåœ¨ç¶²å€ä¸Šç›´æ¥è¼¸å…¥ä¾†å­˜å–æŒ‡å®šé é¢ï¼Œå› æ­¤æ‡‰è©²åœ¨views.pyå»åšé™åˆ¶ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å®¢è£½åŒ–çš„mixin">å®¢è£½åŒ–çš„Mixin<a class="hash-link" href="#å®¢è£½åŒ–çš„mixin" title="Direct link to heading">â€‹</a></h4><p>åœ¨å‰é¢è¨­å®šviewæ™‚æˆ‘å€‘æ›¾ç¶“ç”¨é</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mixins </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LoginRequiredMixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LeadVistView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¾†ç¢ºèªä½¿ç”¨è€…æ˜¯å¦å·²ç™»å…¥ï¼Œä½†æ˜¯ç¾åœ¨ä¸åªæ˜¯ä½¿ç”¨è€…ç™»å…¥ï¼Œé‚„è¦æª¢æŸ¥ä»–æ˜¯å¦ç‚ºorganizerï¼Œå› æ­¤æˆ‘å€‘å»å¯Ÿçœ‹æ­¤æ¨¡çµ„å¾Œ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AccessMixin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Verify that the current user is authenticated.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_authenticated</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">handle_no_permission</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥ç”¨<code>AccessMixin</code>ä¾†å®¢è£½åŒ–è‡ªå·±çš„mixinã€‚</p><ol><li><p>æ–°å¢mixins.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mixins </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> AccessMixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> redirect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">OrganizorAndLoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AccessMixin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Verify that the current user is authenticated and is organizor.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_authenticated </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_organizor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;leads:lead-list&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>é™¤äº†åœ¨ifåˆ¤æ–·ä¸­åŠ å…¥</p><p><code>or not request.user.is_organizor</code></p><p>ç”±æ–¼ return åŸå…ˆçš„<code>self.handle_no_permission()</code>æ˜¯æœƒä¸Ÿå‡ºerror codeï¼ˆ403 Forbiddenï¼‰ï¼Œæˆ‘å€‘å¯ä»¥æŠŠå®ƒæ”¹æˆredirectåˆ°æŒ‡å®šé é¢ã€‚</p></li><li><p>åœ¨views.pyä¸­å¼•ç”¨</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#agents.views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mixins </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> OrganizorAndLoginRequiredMixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AgentListView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OrganizorAndLoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">generic</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;agents/agent_list.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context_object_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;agents&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_queryset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="password">Password<a class="hash-link" href="#password" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="set-random-password">set random password<a class="hash-link" href="#set-random-password" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_password</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">random</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">randint</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation number" style="color:#36acaa">0</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation number" style="color:#36acaa">100000</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="reset-password">reset password<a class="hash-link" href="#reset-password" title="Direct link to heading">â€‹</a></h4><p>åœ¨auth.viewsä¸­æœ‰æä¾›é‡è¨­å¯†ç¢¼çš„viewï¼ˆå¦‚åŒlogin/logoutï¼‰ï¼Œå› æ­¤æˆ‘å€‘åœ¨projectçš„urls.pyä¸­å¼•ç”¨ï¼Œ1ä¸¦åœ¨urlä¸­åŠ å…¥è·¯å¾‘ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PasswordResetView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PasswordResetDoneView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PasswordResetConfirmView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;password-reset/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">PasswordResetView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;password-reset&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;password-reset-confirm/&lt;uidb64&gt;/&lt;token&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">PasswordResetConfirmView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;password-reset-confirm&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;password-reset-done/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">PasswordResetDoneView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;password-reset-confirm&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨å¼•ç”¨å¾Œå»æŸ¥çœ‹é€™å¹¾å€‹vieewå¯ä»¥çœ‹åˆ°ä»–å€‘åˆ†åˆ¥æœƒå°æ‡‰éœ€è¦çš„.htmlæª”æ¡ˆ</p><ul><li><p>PasswordResetView</p><ul><li><p>password_reset_form.html</p><p>æŒ‰forget passwordå¾Œæœƒå…ˆé€£åˆ°é€™è£¡</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> extends </span><span class="token string" style="color:#e3116c">&#x27;base.html&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> block content </span><span class="token operator" style="color:#393A34">%</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">form method</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> csrf_token </span><span class="token operator" style="color:#393A34">%</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_p </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;submit&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">Reset password</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">form</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">a href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;{% url &#x27;login&#x27;%}&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">Already have an account?</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> endblock content </span><span class="token operator" style="color:#393A34">%</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>password_reset_email.html</p><p>ä¸‹æ–¹é€™å€‹linkçš„å‘ˆç¾æ–¹å¼ä¸æ˜¯æœ€ä½³çš„ï¼Œdjangoæœ‰æä¾›ç›¸é—œpackageå¯ä½¿ç”¨ã€‚</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">You&#x27;ve requested to reset your password.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please click the following link to enter your new password :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{ protocol }}://{{ domain }}/password-reset-confirm/{{uid}}/{{token}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul><ul><li><p>PasswordResetConfirmView</p><ul><li><p>password_reset_confirm.html</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;form method=&quot;POST&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {% csrf_token %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{ form.as_p }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button type=&quot;submit&quot;&gt;Reset password&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/form&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;{% url &#x27;login&#x27;%}&quot;&gt;Already have an account?&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul><ul><li><p>PasswordResetDoneView</p><ul><li><p>password_reset_done.html</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &quot;base.html&quot; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;We&#x27;ve sent a email to reset the password&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li><li><p>PasswordResetCompleteView</p><ul><li><p>password_reset_complete.html</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;h1&gt;Password reset completed&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;p&gt;Click &lt;a href=&quot;{% url &#x27;login&#x27;%}&quot;&gt;here&lt;/a&gt; to login&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="dynamic-choices">Dynamic choices<a class="hash-link" href="#dynamic-choices" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="pass-arguments-from-views-to-forms">Pass arguments from views to forms<a class="hash-link" href="#pass-arguments-from-views-to-forms" title="Direct link to heading">â€‹</a></h4><p>views.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#pass extra arguments into the form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_form_kwargs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;request&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>forms.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AssinAgentForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelChoiceField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queryset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#get parameter passed in views</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#{&#x27;request&#x27;: &lt;WSGIRequest: GET &#x27;/leads/1/assign-agent/&#x27;&gt;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="assign-agents-to-lead-agent-in-the-organization">Assign agents to lead (agent in the organization)<a class="hash-link" href="#assign-agents-to-lead-agent-in-the-organization" title="Direct link to heading">â€‹</a></h4><p>the choices of agents are generated dynamically according to the organization.</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AssignAgentView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OrganizorAndLoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">FormView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;leads/assign_agent.html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form_class </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> AssinAgentForm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#pass extra arguments into the form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_form_kwargs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AssignAgentView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_form_kwargs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kwargs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;request&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> kwargs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_success_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;leads:lead-list&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cleaned_data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;agent&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lead </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;pk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AssignAgentView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">form_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">form</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#forms.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AssinAgentForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Form</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> forms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelChoiceField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queryset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#get parameter passed in views</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kwargs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;request&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        agents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">organization</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">userprofile</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#initialize the form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AssinAgentForm</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;agent&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agents</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="filter-by-category">Filter by category<a class="hash-link" href="#filter-by-category" title="Direct link to heading">â€‹</a></h2><p>å°‡leadsä¾ç…§é¡åˆ¥åˆ†é¡é¡¯ç¤ºï¼Œç›®å‰çš„modelå¦‚ä¸‹</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Lead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserProfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Agent&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SET_NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SET_NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#category of leads : New(initial), contacted, Converted, Unconverted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Category</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserProfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CASCADE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="æœ‰ä¸‰ç¨®æ–¹æ³•å¯ä»¥å¯¦ç¾">æœ‰ä¸‰ç¨®æ–¹æ³•å¯ä»¥å¯¦ç¾<a class="hash-link" href="#æœ‰ä¸‰ç¨®æ–¹æ³•å¯ä»¥å¯¦ç¾" title="Direct link to heading">â€‹</a></h4><p>å‰å…©ç¨®åŸºæœ¬ä¸Šæ˜¯é•·å¾—åƒé€™æ¨£å­ï¼Œ<code>get_context_data(self,**kwargs):</code>ï¼Œå†å°contextåšä¸€äº›update</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CategoryDetailView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LoginRequiredMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">DetailView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;leads/category_detail.html&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context_object_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;category&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_context_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CategoryDetailView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_context_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        leads </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">leads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_queryset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#initial query of lead in the organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_organizor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                organization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">userprofile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    organization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> queryset</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol><li><p><code>get_object</code></p><p>æ­¤æ–¹æ³•åœ¨DetailViewä¸­</p><p>ï¼Œæœƒå›å‚³é€™å€‹viewæ‰€éœ€è¦çš„å–®ä¸€ç‰©ä»¶ï¼Œä½¿ç”¨<code>queryset</code>æˆ–<code>get_queryset()</code>ç•¶ä½œç‰©ä»¶çš„ä¾†æºï¼Œä½¿ç”¨ç¶²å€åˆ—æ‰€æä¾›çš„å¼•æ•¸ä½œç‚ºæŸ¥æ‰¾ç›®æ¨™ã€‚ï¼ˆç¿»è­¯å¾—å¾ˆçˆ›ï¼Œå¯ä»¥ç›´æ¥çœ‹æ–‡ä»¶!ï¼‰</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">leads </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Lead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">category</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>åå‘å»æœå°‹foriegn key</p><p>å› ç‚ºmodel Category æ˜¯ model Leadçš„FKï¼Œæ‰€ä»¥å¯ä»¥ç”¨é€™æ¨£çš„æ–¹æ³•ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">leads </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lead_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦å¤–ä¹Ÿå¯ä»¥åœ¨models.pyåšäº›æ›´å‹•ï¼Œåœ¨Leadä¸­çš„categoryæ¬„ä½åŠ å…¥æ–°çš„field <code>related_name</code>ï¼ˆé€™å€‹nameç”¨ä¾†å‘ŠçŸ¥é€£çµå…©modelçš„é—œä¿‚ï¼‰</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">category </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">related_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;leads&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">on_delete </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SET_NULL</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å› æ­¤åœ¨views.pyå°±å¯ä»¥æ”¹æˆ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">leads </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">leads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><strong>æœ‰äº†<code>related_name</code>å¯ä»¥ç›´æ¥åœ¨htmlä¸­ä½¿ç”¨</strong></p></li></ol><p>â€‹		å‰é¢å…©ç¨®æ–¹æ³•å› ç‚ºåœ¨views.pyä¸­å·²ç¶“éæ¿¾å¥½è¦é¡¯ç¤ºçš„leadï¼Œæ‰€ä»¥åœ¨htmlä¸­æ˜¯é•·é€™æ¨£å­</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for lead in leads %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td class=&quot;px-4 py-3&quot;&gt;{{ lead.first_name }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td class=&quot;px-4 py-3&quot;&gt;{{ lead.last_name }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endfor %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>â€‹	è€Œå› ç‚ºå‰›å‰›åœ¨modelä¸­è¨­å®šäº†<code>related_name = leads</code>ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨viewsä¸­å…ˆ<code>get_context_data()</code>ï¼Œè€Œæ˜¯ç›´æ¥å°‡htmlæ”¹æˆ</p><div class="codeBlockContainer_I0IT language-django theme-code-block"><div class="codeBlockContent_wNvx django"><pre tabindex="0" class="prism-code language-django codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{% for lead in category.leads.all %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td class=&quot;px-4 py-3&quot;&gt;{{ lead.first_name }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td class=&quot;px-4 py-3&quot;&gt;{{ lead.last_name }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{% endfor %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="django-third-party-packages">Django Third party Packages<a class="hash-link" href="#django-third-party-packages" title="Direct link to heading">â€‹</a></h2><p><a href="https://djangopackages.org/" target="_blank" rel="noopener noreferrer">https://djangopackages.org/</a></p><p>Use crispy form for this project.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="deployment">Deployment<a class="hash-link" href="#deployment" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="environment-variables">Environment Variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">â€‹</a></h3><p>ç”¨django-environä¾†ç®¡ç†è¨­å®šçš„å¥—ä»¶ï¼ŒåŸå…ˆçš„è¨­å®šéƒ½åœ¨project/settings.pyè£¡é¢ï¼Œç¾åœ¨å°‡è¨­å®šæŠ½é›¢åˆ°ç¨‹å¼ä¹‹å¤–ï¼Œä»¥ä¾¿æœªä¾†æœ‰è¨­å®šéœ€è¦æ›´å‹•æ™‚åƒ…éœ€èª¿æ•´é€™äº›è¨­å®šå°±è¡Œäº†ã€‚</p><ol><li><p><code>$pip install django-environ</code></p><p>ï¼ˆè¨˜å¾—æ¯æ¬¡æ–°å¢å¥—ä»¶å°±ç”¨<code>$pip freeze &gt; requirements.txt</code>ä¾†è¨˜éŒ„ï¼‰</p></li><li><p>æ–°å»º<code>.env</code>åœ¨projectçš„æ ¹ç›®éŒ„ä¸­</p><p>å¦å¤–ä¹Ÿå‰µå»ºä¸€å€‹<code>.template.env</code>ä¹‹å¾Œæœƒæ”¾åœ¨git repositoryä¸Šï¼Œå› ç‚ºæˆ‘å€‘ä¸æœƒæƒ³æŠŠsecret_keyæ”¾åœ¨ç¶²è·¯ä¸Šï¼Œæ‰€ä»¥åªæ”¾æ¨¡æ¿ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SECRET_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;XXXXXXX&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>project/settings.pyæ–°å¢</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> environ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># set casting, default value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DEBUG</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;DEBUG&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SECRET_KEY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SECRET_KEY&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BASE_DIR </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__file__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å…¶ä¸­ï¼Œç‚ºäº†è®“æˆ‘å€‘è‡ªå·±æ±ºå®šæ˜¯å¦ç¨‹å¼å¯ä»¥è®€å–.envï¼Œå°‡</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ”¹æˆ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">READ_DOT_ENV_FILE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;READ_DOT_ENV_FILE&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> READ_DOT_ENV_FILE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç•¶æˆ‘å€‘åœ¨terminalæˆ–ä½ˆç½²æ™‚çš„çµ‚ç«¯æ©Ÿè¼¸å…¥<code>export  READ_DOT_ENV_FILE=True</code>æ™‚ï¼Œå°±å¯ä»¥å»è®€å–.envï¼Œå†é€²ä¸€æ­¥é–‹å§‹åŸ·è¡Œserverã€‚</p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="set-up-postgresql">Set up Postgresql<a class="hash-link" href="#set-up-postgresql" title="Direct link to heading">â€‹</a></h3><ol><li><p>å®‰è£PostgreSQL</p><p>Ubuntuä¸­å®˜æ–¹å¥—ä»¶å·²æ”¶éŒ„ï¼Œæ‰€ä»¥åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å³å¯</p><ul><li><code>$sudo apt update</code></li><li><code>$apt-get install postgresql-12</code>ï¼ˆæœ€æ–°ç‰ˆï¼‰</li><li>ç›¸é—œæ“ä½œ<ul><li><code>$systemctl status postgresql.service</code>æŸ¥çœ‹æœå‹™æ°£æ˜¯å¦æ­£å¸¸å•Ÿå‹•</li><li>é€²å…¥æŒ‡ä»¤ä»‹é¢<code>$sudo -u postgres psql</code>ï¼ˆä»¥é è¨­ç®¡ç†æ¬Šé™ä½¿ç”¨è€…postgresæ“ä½œï¼‰</li><li>é›¢é–‹<code>Ctrl</code>+<code>d</code>æˆ–<code>q</code></li><li>æ–°å¢ä½¿ç”¨è€…<code>createuser User1</code></li><li>æ–°å¢è³‡æ–™åº«<code>createdb dbdemo</code></li></ul></li></ul></li><li><p>DBæ“ä½œ</p><ol><li>å‰µå»ºè³‡æ–™åº«<code>CREATE DATABASE yehcrm;</code></li><li>å‰µå»ºä½¿ç”¨è€…<code>CREATE USER yehcrmuser WITH PASSWORD &#x27;XXXX&#x27;;</code></li><li>çµ¦äºˆæ¬Šé™<code>GRANT ALL PRIVILEGES ON DATABASE yehcrm TO yehcrmuser;</code></li></ol></li><li><p>æ›´æ”¹.env å’Œ .template.env</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SECRET_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;znogy$=ohkmfq@*0a+75t6!nkhpmto2ecuae)(l6n$%uzmn@tw&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;yehcrm&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># use &quot;&quot; or not is fine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yehcrmuser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yehcrm1225</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#leave blank means go defalt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PORT</span><span class="token operator" style="color:#393A34">=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>** <strong><code>=</code>å‰å¾Œå¦‚æœ‰ç©ºæ ¼å¯èƒ½é€ æˆè®€å–å¤±æ•—!!!!</strong></p></li><li><p>settings.pyä¸­çš„DATABASES</p><p>å®‰è£å¥—ä»¶<code>psycopg2</code> : <code>pip install psycopg2-binary</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;default&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;ENGINE&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;django.db.backends.postgresql_psycopg2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;NAME&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;DB_NAME&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;USER&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DB_USER&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;PASSWORD&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;PASSWORD&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;HOST&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DB_HOST&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;PORT&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DB_PORT&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>python manage.py migrate</code></p><p>å› ç‚ºæ›äº†è³‡æ–™åº«ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°migrate</p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="whitenoise---static-files">Whitenoise -&gt; Static files<a class="hash-link" href="#whitenoise---static-files" title="Direct link to heading">â€‹</a></h3><p><a href="http://whitenoise.evans.io/en/stable/" target="_blank" rel="noopener noreferrer">http://whitenoise.evans.io/en/stable/</a></p><ol><li><code>$pip install whitenoise</code></li><li>ä¿®æ”¹settings.pyï¼ˆæ ¹æ“šæ–‡ä»¶ï¼‰</li><li><code>$python manage.py collectstatic</code></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="digital-ocean">Digital Ocean<a class="hash-link" href="#digital-ocean" title="Direct link to heading">â€‹</a></h3><ol><li><p>Add a new app</p></li><li><p>Build a DB</p></li><li><p>enter enviroment variable for the app</p></li><li><p><code>$pip install gunicorn</code></p></li><li><p>add security in settings.py</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> DEBUG</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_PROXY_SSL_HEADER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;HTTP_X_FORWARDED_PROTO&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_SSL_REDIRECT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SESSION_COOKIE_SECURE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CSRF_COOKIE_SECURE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_BROWSER_XSS_FILTER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_CONTENT_TYPE_NOSNIFF </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_HSTS_SECONDS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31536000</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 1 year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_HSTS_INCLUDE_SUBDOMAINS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SECURE_HSTS_PRELOAD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    X_FRAME_OPTIONS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DENY&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALLOWED_HOSTS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_BACKEND </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;django.core.mail.backends.smtp.EmailBackend&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;EMAIL_HOST&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_HOST_USER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;EMAIL_HOST_USER&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_HOST_PASSWORD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;EMAIL_HOST_PASSWORD&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_USE_TLS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EMAIL_PORT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;EMAIL_PORT&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DEFAULT_FROM_EMAIL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DEFAULT_FROM_EMAIL&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>new file runserver.sh</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py collectstatic --no-input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gunicorn --worker-tmp-dir /dev/shm djcrm.wsgi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä½†é€™ä¸èƒ½åœ¨terminalä¸­åŸ·è¡Œï¼Œè¼¸å…¥<code>$chmod +x runserver.sh</code></p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="mailgun">Mailgun<a class="hash-link" href="#mailgun" title="Direct link to heading">â€‹</a></h3><p><a href="https://www.mailgun.com/" target="_blank" rel="noopener noreferrer">Transactional Email API Service For Developers | Mailgun</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/yehs1225/yehs1225.github.io/docs/Django/[DJ]GetStartedBuildCRM[1].md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Django/[DJ]GetStarted-documents"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GetStarted-documents</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Django/[DJ]GetStartedBuildCRM[2]"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GetStarted - build CRM [1]</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å»ºç«‹app" class="table-of-contents__link toc-highlight">å»ºç«‹App</a></li><li><a href="#å»ºç«‹è³‡æ–™åº«" class="table-of-contents__link toc-highlight">å»ºç«‹è³‡æ–™åº«</a><ul><li><a href="#å»ºç«‹table" class="table-of-contents__link toc-highlight">å»ºç«‹table</a></li><li><a href="#é€£çµå…©table" class="table-of-contents__link toc-highlight">é€£çµå…©table</a></li><li><a href="#ä½¿ç”¨è€…table" class="table-of-contents__link toc-highlight">ä½¿ç”¨è€…table</a></li></ul></li><li><a href="#æ“ä½œè³‡æ–™åº«" class="table-of-contents__link toc-highlight">æ“ä½œè³‡æ–™åº«</a></li><li><a href="#ç®¡ç†è€…é é¢è¨­å®š" class="table-of-contents__link toc-highlight">ç®¡ç†è€…é é¢è¨­å®š</a></li><li><a href="#view" class="table-of-contents__link toc-highlight">View</a></li><li><a href="#url-namespaces" class="table-of-contents__link toc-highlight">URL Namespaces</a></li><li><a href="#forms" class="table-of-contents__link toc-highlight">Forms</a></li><li><a href="#model-form" class="table-of-contents__link toc-highlight">Model Form</a></li><li><a href="#update-view-form" class="table-of-contents__link toc-highlight">Update View ï¼ˆFormï¼‰</a></li><li><a href="#delete-viewform" class="table-of-contents__link toc-highlight">Delete Viewï¼ˆformï¼‰</a></li><li><a href="#url-names" class="table-of-contents__link toc-highlight">URL Names</a></li><li><a href="#extending-templates" class="table-of-contents__link toc-highlight">Extending Templates</a></li><li><a href="#twailwindcss" class="table-of-contents__link toc-highlight">TwailwindCss</a></li><li><a href="#class-based-view" class="table-of-contents__link toc-highlight">Class Based View</a></li><li><a href="#set-static-files" class="table-of-contents__link toc-highlight">Set Static files</a></li><li><a href="#send-emails" class="table-of-contents__link toc-highlight">Send Emails</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#test" class="table-of-contents__link toc-highlight">Test</a></li><li><a href="#auth-permissions" class="table-of-contents__link toc-highlight">Auth Permissions</a></li><li><a href="#password" class="table-of-contents__link toc-highlight">Password</a></li><li><a href="#dynamic-choices" class="table-of-contents__link toc-highlight">Dynamic choices</a></li><li><a href="#filter-by-category" class="table-of-contents__link toc-highlight">Filter by category</a></li><li><a href="#django-third-party-packages" class="table-of-contents__link toc-highlight">Django Third party Packages</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a><ul><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment Variables</a></li><li><a href="#set-up-postgresql" class="table-of-contents__link toc-highlight">Set up Postgresql</a></li><li><a href="#whitenoise---static-files" class="table-of-contents__link toc-highlight">Whitenoise -&gt; Static files</a></li><li><a href="#digital-ocean" class="table-of-contents__link toc-highlight">Digital Ocean</a></li><li><a href="#mailgun" class="table-of-contents__link toc-highlight">Mailgun</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Tzu Hsuan Yeh. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2cfa4302.js"></script>
<script src="/assets/js/main.1d210bd5.js"></script>
</body>
</html>